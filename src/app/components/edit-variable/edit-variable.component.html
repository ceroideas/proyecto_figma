<!-- Button trigger modal -->
<button
  id="exampleModalButton"
  type="button"
  class="btn btn-primary"
  data-bs-toggle="modal"
  data-bs-target="#exampleModal"
  style="display: none"
>
  Launch demo modal
</button>

<!-- Modal -->
<div
  #exampleModal
  class="modal fade modal-font-color"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <p class="modal-title" id="exampleModalLabel">
          {{ editVariable ? "Editar variable " : "Crear variable" }}
        </p>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="d-flex type">
        <div>
          <input
            class="form-check-input"
            type="radio"
            name="flexRadioDefault"
            id="constante"
            [value]="true"
            [(ngModel)]="constante"
          />
          <label class="form-check-label" for="constante"> Constante </label>
        </div>
        <div>
          <input
            class="form-check-input"
            type="radio"
            name="flexRadioDefault"
            id="variable"
            [(ngModel)]="constante"
            [value]="false"
          />
          <label class="form-check-label" for="variable"> Variable </label>
        </div>
      </div>

      <div class="modal-body">
        <div [class]="!constante ? '' : 'hide'">
          <p>Formula en uso</p>
          <div style="margin-left: 4%" class="col-md-12 row">
            <div class="col-md-4">
              <!--               <div class="input-group">
                <input
                  type="text"
                  class="form-control input-formula"
                  placeholder="Unidades"
                  aria-describedby="basic-addon1"
                />
              </div> -->
              <select
                class="form-select input-formula"
                [(ngModel)]="variableSelect1"
              >
                <option selected value="#">const 1</option>

                <option
                  *ngFor="let opcion of arrayFilter(); let i = index"
                  [value]="i"
                >
                  {{ opcion.name }}
                </option>
              </select>
            </div>
            <div class="col-md-3">
              <select
                class="form-select input-formula"
                [(ngModel)]="operationType"
              >
                <option selected value="+">+</option>
                <option selected value="-">-</option>
                <option selected value="*">*</option>
                <option selected value="/">/</option>
              </select>
            </div>
            <div class="col-md-4">
              <!--               <div class="input-group">
                <input
                  type="text"
                  class="form-control input-formula"
                  placeholder="Precio por unidad"
                  aria-describedby="basic-addon1"
                />
              </div> -->
              <select
                class="form-select input-formula"
                [(ngModel)]="variableSelect2"
                aria-label="Default select example"
              >
                <option selected value="#">const 1</option>
                <option
                  *ngFor="let opcion of arrayFilter(); let i = index"
                  [value]="i"
                >
                  {{ opcion.name }}
                </option>
              </select>
            </div>
          </div>
        </div>

        <div
          class="mt-4 d-flex justify-content-between align-items-start w-100"
        >
          <p class="mb-0">Nombre de la variable</p>
          <img
            (click)="editVariableNameClick()"
            class="user-icon"
            [src]="
              editVariableName
                ? '../../../assets/icons/fi_x2.svg'
                : '../../../assets/icons/fi_edit-3.svg'
            "
            alt="User Icon"
          />
        </div>
        <div *ngIf="!editVariableName">{{ variableName }}</div>
        <div class="col-md-11">
          <div *ngIf="editVariableName" class="input-group">
            <input
              [(ngModel)]="variableName"
              type="text"
              class="form-control input-formula mb-0 input-margin"
              placeholder="Nombre"
              aria-describedby="basic-addon1"
            />
          </div>
        </div>
        <div
          class="mt-3 d-flex justify-content-between align-items-start w-100"
        >
          <p class="mb-0">Tier 2</p>
          <img
            class="user-icon"
            src="../../../assets/icons/fi_edit-3.svg"
            alt="User Icon"
          />
        </div>
        <div
          class="mt-3 d-flex justify-content-between align-items-start w-100"
        >
          <p
            *ngIf="!editVariableDescription"
            class="mb-0"
            style="width: 95% !important"
          >
            {{ variableDescription }}
          </p>
          <div *ngIf="editVariableDescription" class="col-md-11">
            <div class="input-group">
              <textarea
                [(ngModel)]="variableDescription"
                type="text"
                class="form-control input-formula mb-0 input-margin"
                style="height: 120px"
                placeholder="Descripcion"
                aria-describedby="basic-addon1"
              ></textarea>
            </div>
          </div>
          <img
            (click)="editVariableDescriptionClick()"
            class="user-icon"
            [src]="
              editVariableDescription
                ? '../../../assets/icons/fi_x2.svg'
                : '../../../assets/icons/fi_edit-3.svg'
            "
            alt="User Icon"
          />
        </div>
        <div [class]="!constante ? '' : 'hide'" class="col-md-11">
          <div class="input-group">
            <input
              [(ngModel)]="variableUnidad"
              [disabled]="!editVariableUnidad"
              type="text"
              class="form-control input-formula mb-0 input-margin"
              placeholder="Unidades"
              aria-describedby="basic-addon1"
            />
          </div>
        </div>
        <div [class]="constante ? '' : 'hide'">
          <p class="mt-3">Editar Valores</p>
          <div
            class="d-flex justify-content-between align-items-start w-100 mb-3"
          >
            <div class="col-md-11">
              <div class="input-group">
                <input
                  data-bs-toggle="modal"
                  data-bs-target="#uniteModal"
                  [(ngModel)]="variableUnidad"
                  type="text"
                  class="form-control input-formula mb-0 input-margin"
                  placeholder="Unidades"
                  aria-describedby="basic-addon1"
                />
              </div>
            </div>

            <img
              (click)="editVariableUnidadClick()"
              [src]="
                editVariableUnidad
                  ? '../../../assets/icons/fi_x2.svg'
                  : '../../../assets/icons/fi_edit-3.svg'
              "
              alt="User Icon"
              class="user-icon"
            />
          </div>
          <div
            class="d-flex justify-content-between align-items-start w-100 mb-3"
          >
            <div class="col-md-11">
              <div class="input-group">
                <input
                  type="text"
                  class="form-control input-formula mb-0 input-margin"
                  placeholder="Tipo de Distribucion"
                  aria-describedby="basic-addon1"
                />
              </div>
            </div>

            <img src="../../../assets/icons/fi_edit-3.svg" alt="User Icon" />
          </div>
          <div>
            <canvas id="myChart"></canvas>
          </div>
        </div>
        <div class="modal-footer">
          <div
            class="col-md-12 d-flex justify-content-between align-items-start w-100 mb-0"
          >
            <button
              type="button"
              class="btn btn-lg delete-variable-button col-md-5 mb-0"
            >
              Eliminar variable
            </button>

            <button
              (click)="submit()"
              [disabled]="disable()"
              type="button"
              class="btn btn-lg save-variable-button col-md-5"
              data-bs-dismiss="modal"
            >
              Guardar cambios
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
