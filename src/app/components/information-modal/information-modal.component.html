<!-- Modal -->
<div
  class="modal fade modal-font-color"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
  data-bs-backdrop="static"
>
  <div class="modal-dialog modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header d-block">
        <div class="d-flex">
          <p class="modal-title">Information</p>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="input-group search mt-3">
          <span class="input-group-text" id="basic-addon1">
            <img class="mr-2" src="../../../assets/icons/search.svg" alt="" />
          </span>
          <input
            type="text"
            class="form-control"
            placeholder="Buscar"
            aria-label="Buscar"
            [(ngModel)]="searchTerm"
          />
        </div>
      </div>

      <div class="modal-body">
        <div class="ml-2">
          <div
            *ngFor="let data of filteredDatas; let i = index"
            [ngClass]="{
              'inner-container-active2': data.isActive
            }"
            class="inner-container ml-2 mt-4"
            (click)="toggleActive(data)"
          >
            <div class="text-container mb-2">
              <p class="main-text">
                {{ data.value.toLocaleString("es-ES") }} €
              </p>
              <div class="sub-text">
                <p class="sub-text-item">
                  of &nbsp; &nbsp; {{ tierCeroValue.toLocaleString("es-ES") }} €
                </p>

                <p>{{ data.name }}</p>
              </div>
            </div>
          </div>
          <div
            *ngFor="let data of filteredDatas; let i = index"
            [ngClass]="{
              'inner-container-active': data.isActive
            }"
            class="inner-container ml-2 mt-4"
            (click)="toggleActive(data)"
          >
            <div
              class="d-flex"
              style="justify-content: space-between; justify-items: center"
            >
              <label class="mr-1">{{ formatMonto(+data.value) }}€</label>
              <div
                style="font-weight: 600"
                [ngClass]="{
                  'text-success':
                    getRoundedPercentage(+data.value, +tierCeroValue) > 0,
                  'text-danger':
                    getRoundedPercentage(+data.value, +tierCeroValue) < 0
                }"
              >
                {{
                  "(" +
                    getRoundedPercentage(+data.value, +tierCeroValue) +
                    "%" +
                    ")"
                }}
              </div>
            </div>
            <p
              style="
                font-weight: 700;
                font-size: 14px;
                line-height: 17.5px;
                color: rgba(0, 6, 31, 1);
              "
            >
              {{ data.name }}
            </p>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <div
          class="col-md-12 d-flex justify-content-between align-items-start w-100 mb-0"
        >
          <button
            (click)="deleteAll()"
            type="button"
            class="btn btn-lg delete-variable-button col-md-5 mb-0"
          >
            Delete variable
          </button>

          <button
            (click)="save()"
            type="button"
            class="btn btn-lg save-variable-button col-md-5"
            data-bs-dismiss="modal"
          >
            Save changes
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
